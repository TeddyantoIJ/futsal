<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
       xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
       layout:decorate="/template/admines">
<head>
    <title>dashboard</title>
</head>

<div layout:fragment="content">
    <main>
        <header class="page-header page-header-dark bg-gradient-primary-to-secondary pb-10">
            <div class="container">
                <div class="page-header-content pt-4">
                    <div class="row align-items-center justify-content-between">
                        <div class="col-auto mt-4">
                            <h1 class="page-header-title">
                                <div class="page-header-icon"><i data-feather="activity"></i></div>
                                Dashboard

                            </h1>
                            <div class="page-header-subtitle"></div>
                        </div>
<!--                        <div class="col-12 col-xl-auto mt-4">-->
<!--                            <button class="btn btn-white p-3" id="reportrange">-->
<!--                                <i class="mr-2 text-primary" data-feather="calendar"></i>-->
<!--                                <span></span>-->
<!--                                <i class="ml-1" data-feather="chevron-down"></i>-->
<!--                            </button>-->
<!--                        </div>-->
                    </div>
                </div>
            </div>
        </header>

        <div class="container mt-n10">
            <div class="row">
                <div class="col-xxl-4 col-xl-12 mb-4">
                    <div class="card h-100">
                        <div class="card-body h-100 d-flex flex-column justify-content-center py-5 py-xl-4">
                            <div class="row align-items-center">
                                <div class="col-xl-8 col-xxl-12">
                                    <div class="text-center text-xl-left text-xxl-center px-4 mb-4 mb-xl-0 mb-xxl-4">
                                        <h1 class="text-primary">Welcome Admin <span th:text="${session.user.namaDepan} + ' ' + ${session.user.namaBelakang}"></span></h1>
                                        <p class="text-gray-700 mb-0">IVTE-P website, makes it easier to play futsal</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Example Colored Cards for Dashboard Demo-->
            <p class="text-muted">Website from the past until now</p>
            <div class="row">
                <div class="col-xxl-3 col-lg-6">
                    <div class="card bg-primary text-white mb-4">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="mr-3">
                                    <div class="text-white-75 small">
                                        <i class="fa fa-home fa-2x"></i> Number of Merchants
                                    </div>
                                    <div class="text-lg font-weight-bold" th:text="${jmlmerchant}"></div>
                                </div>
                                <i class="feather-xl text-white-50" data-feather="university"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xxl-3 col-lg-6">
                    <div class="card bg-warning text-white mb-4">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="mr-3">
                                    <div class="text-white-75 small">
                                        <i class="fa fa-users fa-2x"></i> Number of Teams</div>
                                    <div class="text-lg font-weight-bold" th:text="${jmltim}"></div>
                                </div>
                                <i class="feather-xl text-white-50" data-feather="trophy"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xxl-3 col-lg-6">
                    <div class="card bg-success text-white mb-4">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="mr-3">
                                    <div class="text-white-75 small">
                                        <i class="fa fa-user fa-2x"></i> Number of Users</div>
                                    <div class="text-lg font-weight-bold" th:text="${jmluser}"></div>
                                </div>
                                <i class="feather-xl text-white-50" data-feather="users"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xxl-3 col-lg-6">
                    <div class="card bg-danger text-white mb-4">
                        <div class="card-body">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="mr-3">
                                    <div class="text-white-75 small">
                                        <i class="fa fa-arrow-left fa-2x"></i> Income</div>
                                    <div class="text-lg font-weight-bold float-right" th:text="'Rp ' + ${#numbers.formatDecimal(income, 0, 'COMMA', 2, 'POINT')}"></div></div>
                                <i class="feather-xl text-white-50" data-feather="dollar-sign"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br/>
            <div class="row">
                <div class="col">
                    <form class="d-inline-flex float-right" action="/Admin" method="get">
                        <input type="date" class="form-control" name="tanggal1" th:value="${tanggal1}">
                        &nbsp;&nbsp;
                        <input type="date" class="form-control" name="tanggal2" th:value="${tanggal2}">
                        &nbsp;&nbsp;
                        <button class="btn btn-success form-control"><span class="fa fa-search"></span>&nbsp;&nbsp;Search</button>
                    </form>
                </div>
            </div>
            <br/>
            <!-- Example Charts for Dashboard Demo-->
            <div class="row">
                <div class="col-xl-12 mb-4">
                    <div class="card card-header-actions h-100">
                        <div class="card-header">
                            Website income
                        </div>
                        <div class="card-body">
<!--                            <div class="chart-area"><canvas id="myAreaChart" width="100%" height="30"></canvas></div>-->
                            <table class="table table-striped">
                                <thead class="thead-dark">
                                <tr>
                                    <th scope="col">No</th>
                                    <th scope="col">Merchant name</th>
                                    <th scope="col">Date</th>
                                    <th scope="col">Income</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="pend, iter : ${pendaftaran}">
                                    <th th:if="${pend.id_status != -1}" scope="row" th:text="${iter.count}"></th>

                                    <!--                TOTAL -->
                                    <td th:if="${pend.id_status == -1}"></td>
                                    <td th:if="${pend.id_status == -1}" colspan="2"><b>Total income</b></td>
                                    <td th:if="${pend.id_status == -1}">
                                        <b class="float-right"  th:text="'Rp ' + ${#numbers.formatDecimal(pend.nominal, 0, 'COMMA', 2, 'POINT')}"></b>
                                    </td>

                                    <td th:each="mer : ${merchant}" th:if="${mer.id_merchant == pend.id_merchant}" th:text="${mer.nama}"></td>
                                    <td th:if="${pend.id_status != -1}">
                                        <i class="fa fa-calendar" aria-hidden="true"></i>
                                        <span th:text="${#temporals.format(pend.modidate, 'dd-MM-yyyy HH:mm')} + ' WIB'"></span>
                                    </td>
                                    <td class="float-right"  th:if="${pend.id_status != -1}" th:text="'Rp ' + ${#numbers.formatDecimal(pend.nominal, 0, 'COMMA', 2, 'POINT')}"></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>
</html>